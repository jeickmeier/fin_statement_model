
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>API Reference for fin_statement_model - fin_statement_model Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../assets/stylesheet.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-reference-for-fin_statement_model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="fin_statement_model Docs" class="md-header__button md-logo" aria-label="fin_statement_model Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            fin_statement_model Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference for fin_statement_model
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="fin_statement_model Docs" class="md-nav__button md-logo" aria-label="fin_statement_model Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    fin_statement_model Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../registry_templates.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statement Templates
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CHANGELOG.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model" class="md-nav__link">
    <span class="md-ellipsis">
      fin_statement_model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.__all__" class="md-nav__link">
    <span class="md-ellipsis">
      __all__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.__version__" class="md-nav__link">
    <span class="md-ellipsis">
      __version__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode" class="md-nav__link">
    <span class="md-ellipsis">
      CalculationNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CalculationNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.clear_cache" class="md-nav__link">
    <span class="md-ellipsis">
      clear_cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
    <nav class="md-nav" aria-label="from_dict">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.from_dict--see-calculationnode-usage-in-main-module-docstring" class="md-nav__link">
    <span class="md-ellipsis">
      See CalculationNode usage in main module docstring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.get_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      get_dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.set_calculation" class="md-nav__link">
    <span class="md-ellipsis">
      set_calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
    <nav class="md-nav" aria-label="to_dict">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CalculationNode.to_dict--see-calculationnode-usage-in-main-module-docstring" class="md-nav__link">
    <span class="md-ellipsis">
      See CalculationNode usage in main module docstring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.CurveGrowthForecastNode" class="md-nav__link">
    <span class="md-ellipsis">
      CurveGrowthForecastNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CurveGrowthForecastNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CurveGrowthForecastNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CurveGrowthForecastNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CurveGrowthForecastNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.CustomGrowthForecastNode" class="md-nav__link">
    <span class="md-ellipsis">
      CustomGrowthForecastNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CustomGrowthForecastNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CustomGrowthForecastNode--not-supported" class="md-nav__link">
    <span class="md-ellipsis">
      Not supported:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CustomGrowthForecastNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CustomGrowthForecastNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.CustomGrowthForecastNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialModelError" class="md-nav__link">
    <span class="md-ellipsis">
      FinancialModelError
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FinancialModelError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialModelError.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialStatementItemNode" class="md-nav__link">
    <span class="md-ellipsis">
      FinancialStatementItemNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FinancialStatementItemNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialStatementItemNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialStatementItemNode.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialStatementItemNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialStatementItemNode.set_value" class="md-nav__link">
    <span class="md-ellipsis">
      set_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FinancialStatementItemNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.FixedGrowthForecastNode" class="md-nav__link">
    <span class="md-ellipsis">
      FixedGrowthForecastNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FixedGrowthForecastNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FixedGrowthForecastNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FixedGrowthForecastNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.FixedGrowthForecastNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.ForecastNode" class="md-nav__link">
    <span class="md-ellipsis">
      ForecastNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ForecastNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.ForecastNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.ForecastNode.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.ForecastNode.clear_cache" class="md-nav__link">
    <span class="md-ellipsis">
      clear_cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.ForecastNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.ForecastNode.get_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      get_dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.ForecastNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.Graph" class="md-nav__link">
    <span class="md-ellipsis">
      Graph
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Graph.clone" class="md-nav__link">
    <span class="md-ellipsis">
      clone
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.MultiPeriodStatNode" class="md-nav__link">
    <span class="md-ellipsis">
      MultiPeriodStatNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MultiPeriodStatNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.MultiPeriodStatNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.MultiPeriodStatNode.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.MultiPeriodStatNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.MultiPeriodStatNode.get_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      get_dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.MultiPeriodStatNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.Node" class="md-nav__link">
    <span class="md-ellipsis">
      Node
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.clear_cache" class="md-nav__link">
    <span class="md-ellipsis">
      clear_cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.get_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      get_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.get_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      get_dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.has_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      has_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.set_value" class="md-nav__link">
    <span class="md-ellipsis">
      set_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.Node.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.NodeFactory" class="md-nav__link">
    <span class="md-ellipsis">
      NodeFactory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.StatisticalGrowthForecastNode" class="md-nav__link">
    <span class="md-ellipsis">
      StatisticalGrowthForecastNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StatisticalGrowthForecastNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.StatisticalGrowthForecastNode--not-supported" class="md-nav__link">
    <span class="md-ellipsis">
      Not supported:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.StatisticalGrowthForecastNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.StatisticalGrowthForecastNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.StatisticalGrowthForecastNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry" class="md-nav__link">
    <span class="md-ellipsis">
      TemplateRegistry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TemplateRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry--basic-registry-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Basic registry operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry--register-new-template" class="md-nav__link">
    <span class="md-ellipsis">
      Register new template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.diff" class="md-nav__link">
    <span class="md-ellipsis">
      diff
    </span>
  </a>
  
    <nav class="md-nav" aria-label="diff">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.diff--compare-template-versions" class="md-nav__link">
    <span class="md-ellipsis">
      Compare template versions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.diff--analyze-structural-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Analyze structural changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.diff--analyze-value-changes-if-enabled" class="md-nav__link">
    <span class="md-ellipsis">
      Analyze value changes (if enabled)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.diff--compare-specific-periods-with-tolerance" class="md-nav__link">
    <span class="md-ellipsis">
      Compare specific periods with tolerance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.get--access-graph-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Access graph structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.instantiate" class="md-nav__link">
    <span class="md-ellipsis">
      instantiate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="instantiate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.instantiate--basic-instantiation" class="md-nav__link">
    <span class="md-ellipsis">
      Basic instantiation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.instantiate--instantiation-with-customizations" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiation with customizations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.instantiate--verify-customizations" class="md-nav__link">
    <span class="md-ellipsis">
      Verify customizations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.list" class="md-nav__link">
    <span class="md-ellipsis">
      list
    </span>
  </a>
  
    <nav class="md-nav" aria-label="list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.list--check-if-specific-template-exists" class="md-nav__link">
    <span class="md-ellipsis">
      Check if specific template exists
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.register_graph" class="md-nav__link">
    <span class="md-ellipsis">
      register_graph
    </span>
  </a>
  
    <nav class="md-nav" aria-label="register_graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.register_graph--basic-registration-with-auto-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Basic registration with auto-versioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.TemplateRegistry.register_graph--registration-with-forecasting" class="md-nav__link">
    <span class="md-ellipsis">
      Registration with forecasting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.YoYGrowthNode" class="md-nav__link">
    <span class="md-ellipsis">
      YoYGrowthNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="YoYGrowthNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.YoYGrowthNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.YoYGrowthNode.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.YoYGrowthNode.from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.YoYGrowthNode.get_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      get_dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fin_statement_model.YoYGrowthNode.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      to_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.get_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fin_statement_model.update_config" class="md-nav__link">
    <span class="md-ellipsis">
      update_config
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="api-reference-for-fin_statement_model">API Reference for fin_statement_model</h1>


<div class="doc doc-object doc-module">



<a id="fin_statement_model"></a>
    <div class="doc doc-contents first">

        <p>Financial Statement Model library.</p>
<p>A comprehensive library for building and analyzing financial statement models
using a node-based graph structure.</p>









  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="fin_statement_model.__all__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CalculationNode&#39;</span><span class="p">,</span> <span class="s1">&#39;CurveGrowthForecastNode&#39;</span><span class="p">,</span> <span class="s1">&#39;CustomGrowthForecastNode&#39;</span><span class="p">,</span> <span class="s1">&#39;FinancialModelError&#39;</span><span class="p">,</span> <span class="s1">&#39;FinancialStatementItemNode&#39;</span><span class="p">,</span> <span class="s1">&#39;FixedGrowthForecastNode&#39;</span><span class="p">,</span> <span class="s1">&#39;ForecastNode&#39;</span><span class="p">,</span> <span class="s1">&#39;Graph&#39;</span><span class="p">,</span> <span class="s1">&#39;MultiPeriodStatNode&#39;</span><span class="p">,</span> <span class="s1">&#39;Node&#39;</span><span class="p">,</span> <span class="s1">&#39;NodeFactory&#39;</span><span class="p">,</span> <span class="s1">&#39;StatisticalGrowthForecastNode&#39;</span><span class="p">,</span> <span class="s1">&#39;TemplateRegistry&#39;</span><span class="p">,</span> <span class="s1">&#39;YoYGrowthNode&#39;</span><span class="p">,</span> <span class="s1">&#39;__version__&#39;</span><span class="p">,</span> <span class="s1">&#39;get_config&#39;</span><span class="p">,</span> <span class="s1">&#39;logging_config&#39;</span><span class="p">,</span> <span class="s1">&#39;update_config&#39;</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="fin_statement_model.__version__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;0.2.0&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

    </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.CalculationNode" class="doc doc-heading">
            <code>CalculationNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code></p>


        <p>Delegate calculation logic to a calculation object.</p>
<p>Use a calculation object to encapsulate the algorithm for computing node values.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary.</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; CalculationNode</code>:
    Classmethod to deserialize a node from a dictionary. <code>context</code> is required to resolve input nodes.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.CalculationNode.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for this node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.CalculationNode.inputs">inputs</span></code></td>
            <td>
                  <code><span title="List">List</span>[<a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of input nodes required by the calculation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.CalculationNode.calculation">calculation</span></code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An object possessing a <code>calculate(inputs: List[Node], period: str) -&gt; float</code> method.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.CalculationNode._values">_values</span></code></td>
            <td>
                  <code><span title="Dict">Dict</span>[<span title="str">str</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Internal cache for calculated results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
class SumCalculation:
...     def calculate(self, inputs, period):
...         return sum(node.calculate(period) for node in inputs)
node_a = FinancialStatementItemNode("a", {"2023": 10})
node_b = FinancialStatementItemNode("b", {"2023": 20})
sum_node = CalculationNode("sum_ab", inputs=[node_a, node_b], calculation=SumCalculation())
d = sum_node.to_dict()
sum_node2 = CalculationNode.from_dict(d, {"a": node_a, "b": node_b})
sum_node2.calculate("2023")
30.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CalculationNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">calculation</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the CalculationNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique identifier for this node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="List">List</span>[<a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of input nodes needed by the calculation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calculation</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The calculation object implementing the calculation.
Must have a <code>calculate</code> method.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional attributes to store on the node (e.g., metric_name, metric_description).</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>inputs</code> is not a list of Nodes, or if <code>calculation</code>
does not have a callable <code>calculate</code> method.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
class SumCalculation:
...     def calculate(self, inputs, period):
...         return sum(node.calculate(period) for node in inputs)
node_a = FinancialStatementItemNode("a", {"2023": 10})
node_b = FinancialStatementItemNode("b", {"2023": 20})
sum_node = CalculationNode("sum_ab", inputs=[node_a, node_b], calculation=SumCalculation())
sum_node.calculate("2023")
30.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CalculationNode.calculate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">period</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Calculate the node's value for a given period.</p>
<p>Check the cache; on a miss, delegate to <code>calculation.calculate</code> and cache the result.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the time period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Calculated value for the period.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fin_statement_model.core.errors.CalculationError">CalculationError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If calculation fails or returns a non-numeric value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
class SumCalculation:
...     def calculate(self, inputs, period):
...         return sum(node.calculate(period) for node in inputs)
node_a = FinancialStatementItemNode("a", {"2023": 10})
node_b = FinancialStatementItemNode("b", {"2023": 20})
sum_node = CalculationNode("sum_ab", inputs=[node_a, node_b], calculation=SumCalculation())
sum_node.calculate("2023")
30.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CalculationNode.clear_cache" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_cache</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Clear the internal cache of calculated values.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
class SumCalculation:
...     def calculate(self, inputs, period):
...         return sum(node.calculate(period) for node in inputs)
node_a = FinancialStatementItemNode("a", {"2023": 10})
node_b = FinancialStatementItemNode("b", {"2023": 20})
sum_node = CalculationNode("sum_ab", inputs=[node_a, node_b], calculation=SumCalculation())
sum_node.clear_cache()</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CalculationNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Create a CalculationNode from a dictionary with node context.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's serialized data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of existing nodes to resolve dependencies.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="CalculationNode (fin_statement_model.core.nodes.calculation_nodes.CalculationNode)" href="#fin_statement_model.CalculationNode">CalculationNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CalculationNode instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the data is invalid or missing required fields.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h4 id="fin_statement_model.CalculationNode.from_dict--see-calculationnode-usage-in-main-module-docstring">See CalculationNode usage in main module docstring</h4>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CalculationNode.get_dependencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dependencies</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return the names of input nodes used by the calculation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of input node names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
class SumCalculation:
...     def calculate(self, inputs, period):
...         return sum(node.calculate(period) for node in inputs)
node_a = FinancialStatementItemNode("a", {"2023": 10})
node_b = FinancialStatementItemNode("b", {"2023": 20})
sum_node = CalculationNode("sum_ab", inputs=[node_a, node_b], calculation=SumCalculation())
sum_node.get_dependencies()
['a', 'b']</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CalculationNode.set_calculation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_calculation</span><span class="p">(</span><span class="n">calculation</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Change the calculation object for the node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>calculation</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new calculation object. Must have a callable
<code>calculate</code> method.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the new calculation is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
class SumCalculation:
...     def calculate(self, inputs, period):
...         return sum(node.calculate(period) for node in inputs)
node_a = FinancialStatementItemNode("a", {"2023": 10})
node_b = FinancialStatementItemNode("b", {"2023": 20})
sum_node = CalculationNode("sum_ab", inputs=[node_a, node_b], calculation=SumCalculation())
sum_node.set_calculation(SumCalculation())</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CalculationNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize the node to a dictionary representation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's type, name, inputs, and calculation info.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>This method requires access to NodeFactory's calculation registry
to properly serialize the calculation type. Some calculation types
with non-serializable parameters may include warnings.</p>
</details>

<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h4 id="fin_statement_model.CalculationNode.to_dict--see-calculationnode-usage-in-main-module-docstring">See CalculationNode usage in main module docstring</h4>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.CurveGrowthForecastNode" class="doc doc-heading">
            <code>CurveGrowthForecastNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ForecastNode (fin_statement_model.core.nodes.forecast_nodes.ForecastNode)" href="#fin_statement_model.ForecastNode">ForecastNode</a></code></p>


        <p>Forecast node with period-specific growth rates.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary.</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; CurveGrowthForecastNode</code>:
    Classmethod to deserialize a node from a dictionary. <code>context</code> is required to resolve the base node.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.CurveGrowthForecastNode.growth_rates">growth_rates</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Growth rate for each corresponding forecast period.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes import FinancialStatementItemNode, CurveGrowthForecastNode
revenue = FinancialStatementItemNode("revenue", {"2022": 100})
rates = [0.10, 0.08]
forecast = CurveGrowthForecastNode(revenue, "2022", ["2023", "2024"], rates)
d = forecast.to_dict()
forecast2 = CurveGrowthForecastNode.from_dict(d, {"revenue": revenue})
round(forecast2.calculate("2024"), 2)
118.8</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CurveGrowthForecastNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">input_node</span><span class="p">,</span> <span class="n">base_period</span><span class="p">,</span> <span class="n">forecast_periods</span><span class="p">,</span> <span class="n">growth_rates</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a CurveGrowthForecastNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source of historical data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last historical period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>forecast_periods</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Future periods to project.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>growth_rates</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Growth rate for each forecast period; length must equal <em>forecast_periods</em>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CurveGrowthForecastNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Create a CurveGrowthForecastNode from a dictionary with node context.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's serialized data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of existing nodes to resolve dependencies.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="CurveGrowthForecastNode (fin_statement_model.core.nodes.forecast_nodes.CurveGrowthForecastNode)" href="#fin_statement_model.CurveGrowthForecastNode">CurveGrowthForecastNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new CurveGrowthForecastNode instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the data is invalid or missing required fields.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CurveGrowthForecastNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize the node to a dictionary representation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's forecast configuration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.CustomGrowthForecastNode" class="doc doc-heading">
            <code>CustomGrowthForecastNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ForecastNode (fin_statement_model.core.nodes.forecast_nodes.ForecastNode)" href="#fin_statement_model.ForecastNode">ForecastNode</a></code></p>


        <p>Forecast node that computes growth via a user-supplied function.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary (includes a warning).</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; CustomGrowthForecastNode</code>:
    Not supported; always raises NotImplementedError because the function cannot be serialized.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.CustomGrowthForecastNode.growth_function">growth_function</span></code></td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<span title="str">str</span>, <span title="str">str</span>, <span title="float">float</span>], <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function returning growth factor.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h3 id="fin_statement_model.CustomGrowthForecastNode--not-supported">Not supported:</h3>
<p>from fin_statement_model.core.nodes import FinancialStatementItemNode, CustomGrowthForecastNode
revenue = FinancialStatementItemNode("revenue", {"2022": 100})
node = CustomGrowthForecastNode(revenue, "2022", ["2023"], lambda p, pp, v: 0.05)
d = node.to_dict()
CustomGrowthForecastNode.from_dict(d, {"revenue": revenue})  # doctest: +SKIP
Traceback (most recent call last):
...
NotImplementedError: CustomGrowthForecastNode cannot be fully deserialized because the growth_function cannot be serialized. Manual reconstruction required.</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CustomGrowthForecastNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">input_node</span><span class="p">,</span> <span class="n">base_period</span><span class="p">,</span> <span class="n">forecast_periods</span><span class="p">,</span> <span class="n">growth_function</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a CustomGrowthForecastNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source of historical data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last historical period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>forecast_periods</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Future periods to project.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>growth_function</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<span title="str">str</span>, <span title="str">str</span>, <span title="float">float</span>], <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function returning growth factor.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CustomGrowthForecastNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Deserialization is not supported for CustomGrowthForecastNode.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.CustomGrowthForecastNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize the node to a dictionary representation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's forecast configuration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>The growth_function cannot be serialized, so a warning is included.</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.FinancialModelError" class="doc doc-heading">
            <code>FinancialModelError</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="Exception">Exception</span></code></p>


        <p>Base exception for all financial statement model errors.</p>
<p>All custom exceptions raised within the library should inherit from this class.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">raise</span> <span class="n">FinancialModelError</span><span class="p">(</span><span class="s2">&quot;An error occurred.&quot;</span><span class="p">)</span>
</code></pre></div>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FinancialModelError.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the FinancialModelError.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>message</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A human-readable description of the error.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.FinancialStatementItemNode" class="doc doc-heading">
            <code>FinancialStatementItemNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code></p>


        <p>Store raw financial statement values for specific periods.</p>
<p>Represents a leaf node containing actual reported financial data
(e.g., revenue, COGS) across time periods.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary.</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; FinancialStatementItemNode</code>:
    Classmethod to deserialize a node from a dictionary. <code>context</code> is ignored for data nodes.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.FinancialStatementItemNode.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the financial item.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.FinancialStatementItemNode.values">values</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Mapping from period identifiers to their values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
data = {"2022": 1000.0, "2023": 1200.0}
node = FinancialStatementItemNode("revenue", data)
d = node.to_dict()
node2 = FinancialStatementItemNode.from_dict(d)
node2.calculate("2023")
1200.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FinancialStatementItemNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a FinancialStatementItemNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the financial item.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Initial mapping of periods to values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>name</code> is empty, contains invalid characters, or has leading/trailing whitespace.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>FinancialStatementItemNode("Revenue", {"2023": 1000.0})
FinancialStatementItemNode object</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FinancialStatementItemNode.calculate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">period</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the value for a specific period.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period identifier to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Stored value for <code>period</code>, or 0.0 if not present.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>node = FinancialStatementItemNode("Revenue", {"2023": 1000.0})
node.calculate("2023")
1000.0
node.calculate("2022")
0.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FinancialStatementItemNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Deserialize a FinancialStatementItemNode from a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Serialized node data; must contain keys 'type', 'name', and 'values'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional context for deserialization (ignored).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>FinancialStatementItemNode</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="FinancialStatementItemNode (fin_statement_model.core.nodes.item_node.FinancialStatementItemNode)" href="#fin_statement_model.FinancialStatementItemNode">FinancialStatementItemNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reconstructed node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If 'type' is not 'financial_statement_item' or 'name' is missing.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If 'values' is not a dict.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>d = {"type": "financial_statement_item", "name": "Revenue", "values": {"2023": 1000.0}}
node = FinancialStatementItemNode.from_dict(d)
node.name
'Revenue'
node.calculate("2023")
1000.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FinancialStatementItemNode.set_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="n">period</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Set the value for a specific period.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period identifier.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Numerical value to store.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>node = FinancialStatementItemNode("Revenue", {"2023": 1000.0})
node.set_value("2024", 1500.0)
node.calculate("2024")
1500.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FinancialStatementItemNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize this node to a dictionary.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[str, Any]: Dictionary with keys 'type', 'name', and 'values'.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>node = FinancialStatementItemNode("Revenue", {"2023": 1000.0})
data = node.to_dict()
data["type"]
'financial_statement_item'</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.FixedGrowthForecastNode" class="doc doc-heading">
            <code>FixedGrowthForecastNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ForecastNode (fin_statement_model.core.nodes.forecast_nodes.ForecastNode)" href="#fin_statement_model.ForecastNode">ForecastNode</a></code></p>


        <p>Forecast node that applies a single growth rate to every future period.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary.</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; FixedGrowthForecastNode</code>:
    Classmethod to deserialize a node from a dictionary. <code>context</code> is required to resolve the base node.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.FixedGrowthForecastNode.growth_rate">growth_rate</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constant growth factor expressed as a decimal (<code>0.05</code>  5 %).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes import FinancialStatementItemNode, FixedGrowthForecastNode
revenue = FinancialStatementItemNode("revenue", {"2022": 100})
forecast = FixedGrowthForecastNode(revenue, "2022", ["2023", "2024"], 0.05)
d = forecast.to_dict()
forecast2 = FixedGrowthForecastNode.from_dict(d, {"revenue": revenue})
round(forecast2.calculate("2024"), 2)
110.25</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FixedGrowthForecastNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">input_node</span><span class="p">,</span> <span class="n">base_period</span><span class="p">,</span> <span class="n">forecast_periods</span><span class="p">,</span> <span class="n">growth_rate</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a FixedGrowthForecastNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source of historical data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last historical period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>forecast_periods</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Future periods to project.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>growth_rate</code>
            </td>
            <td>
                  <code><span title="float">float</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constant growth rate (<code>0.05</code>  5 %).
If <code>None</code>, the default configured in <code>cfg('forecasting.default_growth_rate')</code> is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FixedGrowthForecastNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Create a FixedGrowthForecastNode from a dictionary with node context.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's serialized data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of existing nodes to resolve dependencies.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="FixedGrowthForecastNode (fin_statement_model.core.nodes.forecast_nodes.FixedGrowthForecastNode)" href="#fin_statement_model.FixedGrowthForecastNode">FixedGrowthForecastNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new FixedGrowthForecastNode instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the data is invalid or missing required fields.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.FixedGrowthForecastNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize the node to a dictionary representation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's forecast configuration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.ForecastNode" class="doc doc-heading">
            <code>ForecastNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code></p>


        <p>Base class for projecting future values from historical data.</p>
<p>ForecastNode uses a source node's historical data to generate projected values
for specified future periods, caching results to avoid redundant computations.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary.</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; ForecastNode</code>:
    Classmethod to deserialize a node from a dictionary. Subclasses must override this method.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.ForecastNode.input_node">input_node</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Node providing historical data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.ForecastNode.base_period">base_period</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last historical period used as forecast base.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.ForecastNode.forecast_periods">forecast_periods</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Future periods to project.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.ForecastNode.values">values</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Historical and forecasted values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes.item_node import FinancialStatementItemNode
from fin_statement_model.core.nodes.forecast_nodes import FixedGrowthForecastNode
revenue = FinancialStatementItemNode("revenue", {"2022": 100, "2023": 110})
forecast = FixedGrowthForecastNode(revenue, "2023", ["2024", "2025"], 0.05)
d = forecast.to_dict()
forecast2 = FixedGrowthForecastNode.from_dict(d, {"revenue": revenue})
round(forecast2.calculate("2025"), 2)
121.28</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.ForecastNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">input_node</span><span class="p">,</span> <span class="n">base_period</span><span class="p">,</span> <span class="n">forecast_periods</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize a ForecastNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source of historical data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last historical period as forecast base.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>forecast_periods</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Future periods to generate forecasts for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.ForecastNode.calculate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">period</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Calculate the node's value for a given period.</p>
<p>Returns historical values for periods up to <code>base_period</code>; computes forecast for later periods.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period identifier, historical or forecast.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Value for the specified period.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>period</code> is not a historical or forecast period.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.ForecastNode.clear_cache" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_cache</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Clear cached forecast values.</p>
<p>Use to force recomputation of all periods when input data changes.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.ForecastNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Recreate a ForecastNode from serialized data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's serialized data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of existing nodes to resolve dependencies.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ForecastNode (fin_statement_model.core.nodes.forecast_nodes.ForecastNode)" href="#fin_statement_model.ForecastNode">ForecastNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new ForecastNode instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the data is invalid or missing required fields.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>This base method should be overridden by subclasses.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.ForecastNode.get_dependencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dependencies</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get names of nodes that this forecast depends on.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str]: Single-element list of the input node's name.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.ForecastNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize this node to a dictionary.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[str, Any]: Serialized representation including base forecast parameters.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>Subclasses should override to include specific forecast details.</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.Graph" class="doc doc-heading">
            <code>Graph</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="fin_statement_model.core.graph.components.GraphBaseMixin">GraphBaseMixin</span></code>, <code><span title="fin_statement_model.core.graph.components.NodeOpsMixin">NodeOpsMixin</span></code>, <code><span title="fin_statement_model.core.graph.components.CalcOpsMixin">CalcOpsMixin</span></code>, <code><span title="fin_statement_model.core.graph.components.AdjustmentMixin">AdjustmentMixin</span></code>, <code><span title="fin_statement_model.core.graph.components.MergeReprMixin">MergeReprMixin</span></code>, <code><span title="fin_statement_model.core.graph.components.TraversalMixin">TraversalMixin</span></code></p>


        <p>Unified directed-graph abstraction for financial-statement modelling.</p>
<p>The Graph class exposes a high-level API for building, mutating, and evaluating
financial statement calculation graphs. All functionality is provided by the mix-ins.</p>
<p>See module docstring for a comprehensive feature list and usage example.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Graph.clone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clone</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return a cloned copy of the current graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>deep</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code> (default) a <em>deep</em> copy containing <strong>new</strong> node
instances and adjustment objects is returned. When <code>False</code> a
shallow copy is produced which <strong>shares</strong> node objects with the
original graph.  The shallow variant is primarily useful for
quick read-only snapshots.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Graph</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="Graph (fin_statement_model.core.graph.graph.Graph)" href="#fin_statement_model.Graph">Graph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new :class:<code>Graph</code> instance replicating the structure and</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="Graph (fin_statement_model.core.graph.graph.Graph)" href="#fin_statement_model.Graph">Graph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>state of <em>self</em>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.MultiPeriodStatNode" class="doc doc-heading">
            <code>MultiPeriodStatNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code></p>


        <p>Compute a statistical measure over multiple periods.</p>
<p>Apply a statistical function (e.g., mean, stdev) to values from an input node across specified periods.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary (includes a warning if stat_func is custom).</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; MultiPeriodStatNode</code>:
    Classmethod to deserialize a node from a dictionary. <code>context</code> is required to resolve input nodes. Custom stat functions may require manual reconstruction.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.MultiPeriodStatNode.input_node">input_node</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Node providing source values.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.MultiPeriodStatNode.periods">periods</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period identifiers to include.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.MultiPeriodStatNode.stat_func">stat_func</span></code></td>
            <td>
                  <code><span title="fin_statement_model.core.nodes.stats_nodes.StatFunc">StatFunc</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function to apply to collected values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes import FinancialStatementItemNode, MultiPeriodStatNode
data = {"Q1": 10, "Q2": 12, "Q3": 11, "Q4": 13}
sales = FinancialStatementItemNode("sales", data)
import statistics
avg = MultiPeriodStatNode(
...     "avg_sales", input_node=sales, periods=["Q1", "Q2", "Q3", "Q4"], stat_func=statistics.mean
... )
d = avg.to_dict()
avg2 = MultiPeriodStatNode.from_dict(d, {"sales": sales})
avg2.calculate()
11.5</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.MultiPeriodStatNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">input_node</span><span class="p">,</span> <span class="n">periods</span><span class="p">,</span> <span class="n">stat_func</span><span class="o">=</span><span class="n">statistics</span><span class="o">.</span><span class="n">stdev</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a MultiPeriodStatNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for this node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Node supplying values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>periods</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period identifiers to analyze.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stat_func</code>
            </td>
            <td>
                  <code><span title="fin_statement_model.core.nodes.stats_nodes.StatFunc">StatFunc</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function applied to collected values. Defaults to statistics.stdev.</p>
              </div>
            </td>
            <td>
                  <code><span title="statistics.stdev">stdev</span></code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>periods</code> is empty or not a list.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>input_node</code> is not a Node or <code>stat_func</code> is not callable.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.MultiPeriodStatNode.calculate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compute the statistical measure across specified periods.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Ignored.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Result of <code>stat_func</code> on collected values, or NaN if insufficient valid data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fin_statement_model.core.errors.CalculationError">CalculationError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If input retrieval fails or unexpected errors occur.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.MultiPeriodStatNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Recreate a MultiPeriodStatNode from serialized data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Serialized node data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing nodes for dependencies.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>MultiPeriodStatNode</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="MultiPeriodStatNode (fin_statement_model.core.nodes.stats_nodes.MultiPeriodStatNode)" href="#fin_statement_model.MultiPeriodStatNode">MultiPeriodStatNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reconstructed node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If required fields are missing or invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.MultiPeriodStatNode.get_dependencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dependencies</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get names of nodes this statistical node depends on.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.MultiPeriodStatNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize this node to a dictionary.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[str, Any]: Serialized data with function name and periods.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p><code>stat_func</code> may not be fully serializable; manual reconstruction may be required.</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.Node" class="doc doc-heading">
            <code>Node</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract base class for all nodes in the financial statement model.</p>
<p>This class defines the required interface for all node types, including calculation,
serialization, and dependency inspection. Subclasses must implement <code>calculate</code>, <code>to_dict</code>,
and (for deserializable nodes) <code>from_dict</code> as a classmethod.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary.</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; Node</code>:
    Classmethod to deserialize a node from a dictionary. Nodes with dependencies
    (e.g., calculation, forecast, stat nodes) must use the <code>context</code> argument to resolve them.
    Data nodes may ignore <code>context</code>.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.Node.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the node instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.Node.values">values</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional mapping of period to value (for data nodes).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class DummyNode(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
...
...     @classmethod
...     def from_dict(cls, data, context=None):
...         return cls(data["name"])
node = DummyNode("Revenue")
d = node.to_dict()
DummyNode.from_dict(d).name
'Revenue'</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the Node instance with a unique name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the node. Must be a non-empty string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>name</code> is empty, not a string, or contains invalid characters.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>Node("Revenue")  # doctest: +ELLIPSIS
Traceback (most recent call last):
...
TypeError: Can't instantiate abstract class Node...</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.calculate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">period</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Calculate the node's value for a given period.</p>
<p>Subclasses must override this method to implement specific calculation logic.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the time period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Calculated value for the period.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class Dummy(Node):
...     def calculate(self, period):
...         return 2.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
Dummy("Test").calculate("2023")
2.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.clear_cache" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_cache</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Clear cached calculation results for this node.</p>
<p>Subclasses with caching should override this method to clear their internal cache.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class Dummy(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
...
...     def clear_cache(self):
...         print("Cache cleared!")
node = Dummy("Test")
node.clear_cache()
Cache cleared!</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Deserialize a node from its dictionary representation.</p>
<p>Subclasses that support deserialization must override this method.
Nodes with dependencies (e.g., calculation, forecast, stat nodes) must use the
<code>context</code> argument to resolve them. Data nodes may ignore <code>context</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The serialized node dictionary (usually produced by :py:meth:<code>to_dict</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional mapping of node names to node objects that have already been deserialized.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Node</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A fully instantiated node object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If not overridden in a subclass.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class DummyNode(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
...
...     @classmethod
...     def from_dict(cls, data, context=None):
...         return cls(data["name"])
node = DummyNode("Revenue")
d = node.to_dict()
DummyNode.from_dict(d).name
'Revenue'</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.get_attribute" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_attribute</span><span class="p">(</span><span class="n">attribute_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get a named attribute from the node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>attribute_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the attribute to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>object</code></td>            <td>
                  <code><span title="object">object</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value of the specified attribute.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AttributeError">AttributeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the attribute does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class Dummy(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
node = Dummy("Test")
node.get_attribute("name")
'Test'</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.get_dependencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dependencies</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the names of nodes this node depends on.</p>
<p>Default implementation returns empty list. Override in nodes that have dependencies.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str]: List of node names this node depends on.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class Dummy(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
...
...     def get_dependencies(self):
...         return ["dep1", "dep2"]
node = Dummy("Test")
node.get_dependencies()
['dep1', 'dep2']</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.has_attribute" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_attribute</span><span class="p">(</span><span class="n">attr_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the node has a specific attribute.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>attr_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the attribute to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the attribute exists, otherwise False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class Dummy(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
node = Dummy("Test")
node.has_attribute("name")
True</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.set_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="n">period</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Set a value for a specific period on data-bearing nodes.</p>
<p>Override in subclasses to support mutating stored data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period identifier.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Numerical value to store.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Always in base class.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class Dummy(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
...
...     def set_value(self, period, value):
...         print(f"Set {period} to {value}")
node = Dummy("Test")
node.set_value("2023", 100)
Set 2023 to 100</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.Node.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize the node to a dictionary representation.</p>
<p>This method should return a dictionary containing all information
necessary to reconstruct the node, including:
- node type
- name
- any configuration parameters
- values (for data nodes)
- input references (for calculation nodes)</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[str, Any]: Dictionary representation of the node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>class Dummy(Node):
...     def calculate(self, period):
...         return 1.0
...
...     def to_dict(self):
...         return {"type": "dummy", "name": self.name}
node = Dummy("Test")
node.to_dict()["type"]
'dummy'</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.NodeFactory" class="doc doc-heading">
            <code>NodeFactory</code>


</h2>


    <div class="doc doc-contents ">


        <p>Static aggregation of builder, deserializer, and helper functions for node creation.</p>
<p>This class exposes static methods for creating financial statement items, calculation nodes, forecast nodes,
and for deserializing nodes from dictionaries. It also provides access to custom node creation helpers and
legacy calculation method mappings.</p>
<p>All methods are static and simply delegate to the underlying functional helpers. This allows both service-object
and functional usage patterns.</p>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.node_factory import NodeFactory
node = NodeFactory.create_financial_statement_item("COGS", {"2022": 50.0})
node
<FinancialStatementItemNode name='COGS'></p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.StatisticalGrowthForecastNode" class="doc doc-heading">
            <code>StatisticalGrowthForecastNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ForecastNode (fin_statement_model.core.nodes.forecast_nodes.ForecastNode)" href="#fin_statement_model.ForecastNode">ForecastNode</a></code></p>


        <p>Forecast node whose growth rates are drawn from a random distribution.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary (includes a warning).</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; StatisticalGrowthForecastNode</code>:
    Not supported; always raises NotImplementedError because the callable cannot be serialized.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.StatisticalGrowthForecastNode.distribution_callable">distribution_callable</span></code></td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[], <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function returning a pseudo-random growth rate.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h3 id="fin_statement_model.StatisticalGrowthForecastNode--not-supported">Not supported:</h3>
<p>from fin_statement_model.core.nodes import FinancialStatementItemNode, StatisticalGrowthForecastNode
import random
revenue = FinancialStatementItemNode("revenue", {"2022": 100})
node = StatisticalGrowthForecastNode(revenue, "2022", ["2023"], lambda: random.gauss(0.05, 0.01))
d = node.to_dict()
StatisticalGrowthForecastNode.from_dict(d, {"revenue": revenue})  # doctest: +SKIP
Traceback (most recent call last):
...
NotImplementedError: StatisticalGrowthForecastNode cannot be fully deserialized because the distribution_callable cannot be serialized. Manual reconstruction required.</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.StatisticalGrowthForecastNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">input_node</span><span class="p">,</span> <span class="n">base_period</span><span class="p">,</span> <span class="n">forecast_periods</span><span class="p">,</span> <span class="n">distribution_callable</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a StatisticalGrowthForecastNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source of historical data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last historical period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>forecast_periods</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Future periods to project.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distribution_callable</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[], <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Zero-argument function returning random growth rates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.StatisticalGrowthForecastNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Deserialization is not supported for StatisticalGrowthForecastNode.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.StatisticalGrowthForecastNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize the node to a dictionary representation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the node's forecast configuration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>The distribution_callable cannot be serialized, so a warning is included.</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.TemplateRegistry" class="doc doc-heading">
            <code>TemplateRegistry</code>


</h2>


    <div class="doc doc-contents ">


        <p>Local filesystem-backed registry for financial statement templates.</p>
<p>A singleton-style class providing centralized template storage, versioning,
and retrieval. Templates are persisted as JSON bundles with automatic
indexing for efficient discovery and integrity verification.</p>
<p>The registry supports the complete template lifecycle:
- Registration of new templates with automatic versioning
- Retrieval and instantiation of stored templates
- Comparison between different template versions
- Deletion and cleanup of obsolete templates</p>
<p>All operations are thread-safe and atomic where possible to support
concurrent access patterns.</p>


<details class="class-attributes" open>
  <summary>Class Attributes</summary>
  <p>_ENV_VAR: Environment variable name for custom registry path
_INDEX_FILE: Name of the JSON index file
_STORE_DIR: Directory name for template storage</p>
</details>

<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h3 id="fin_statement_model.TemplateRegistry--basic-registry-operations">Basic registry operations</h3>
<p>templates = TemplateRegistry.list()
bundle = TemplateRegistry.get("lbo.standard_v1")
graph = TemplateRegistry.instantiate("lbo.standard_v1")</p>
<h3 id="fin_statement_model.TemplateRegistry--register-new-template">Register new template</h3>
<p>template_id = TemplateRegistry.register_graph(my_graph, name="custom.model")</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<details class="note" open>
  <summary>Note</summary>
  <p>The registry creates secure storage with restrictive permissions
(0700 for directories, 0600 for files) to protect potentially
sensitive financial data.</p>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.TemplateRegistry.delete" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">template_id</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Remove a template from the registry permanently.</p>
<p>Deletes both the template bundle file and its index entry. The operation
is destructive and cannot be undone. Silently ignores unknown template IDs
to support idempotent cleanup scenarios.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Template identifier to delete (e.g., "lbo.standard_v1")</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>TemplateRegistry.delete("old_template_v1")  # Removes completely
TemplateRegistry.delete("nonexistent")  # Silently ignored</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<details class="note" open>
  <summary>Note</summary>
  <p>The function also attempts to clean up empty parent directories
after deletion to maintain a tidy registry structure.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.TemplateRegistry.diff" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">diff</span><span class="p">(</span><span class="n">template_id_a</span><span class="p">,</span> <span class="n">template_id_b</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include_values</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="mf">1e-09</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two registered templates for structural and value differences.</p>
<p>Loads both templates, reconstructs their graphs (including forecast
application), and performs comprehensive comparison analysis. Useful
for understanding evolution between template versions or comparing
different modeling approaches.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_id_a</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Base template identifier (left-hand side of comparison)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>template_id_b</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target template identifier (right-hand side of comparison)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_values</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to include numerical value comparison in
addition to structural analysis. Set False for faster topology-only diffs</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>periods</code>
            </td>
            <td>
                  <code><span title="builtins.list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specific periods to compare. If None, uses intersection of
periods from both templates</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>atol</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Absolute tolerance for value comparison. Differences below this
threshold are considered equal and excluded from results</p>
              </div>
            </td>
            <td>
                  <code>1e-09</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fin_statement_model.templates.models.DiffResult">DiffResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DiffResult containing:
- structure: Structural differences (added/removed/changed nodes)
- values: Numerical differences (only if include_values=True)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyError">KeyError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If either template_id is not found in registry</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h4 id="fin_statement_model.TemplateRegistry.diff--compare-template-versions">Compare template versions</h4>
<p>diff_result = TemplateRegistry.diff("lbo.standard_v1", "lbo.standard_v2", include_values=True)</p>
<h4 id="fin_statement_model.TemplateRegistry.diff--analyze-structural-changes">Analyze structural changes</h4>
<p>structure = diff_result.structure
print(f"Added nodes: {structure.added_nodes}")
print(f"Removed nodes: {structure.removed_nodes}")
print(f"Changed nodes: {list(structure.changed_nodes.keys())}")</p>
<h4 id="fin_statement_model.TemplateRegistry.diff--analyze-value-changes-if-enabled">Analyze value changes (if enabled)</h4>
<p>if diff_result.values:
...     values = diff_result.values
...     print(f"Changed cells: {len(values.changed_cells)}")
...     print(f"Max delta: ${values.max_delta:,.2f}")</p>
<h4 id="fin_statement_model.TemplateRegistry.diff--compare-specific-periods-with-tolerance">Compare specific periods with tolerance</h4>
<p>focused_diff = TemplateRegistry.diff(
...     "template_a_v1",
...     "template_b_v1",
...     periods=["2024", "2025"],
...     atol=1.0,  # Ignore sub-dollar differences
... )</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<details class="processing-details" open>
  <summary>Processing Details</summary>
  <p>Both templates are loaded and their embedded forecast specifications
are applied to create fully-realized graphs before comparison. This
ensures the diff reflects the complete template behavior, not just
the base graph structure.</p>
</details>

<details class="performance-notes" open>
  <summary>Performance Notes</summary>
  <ul>
<li>Structure comparison is always fast (O(N) in number of nodes)</li>
<li>Value comparison can be expensive for large graphs/many periods</li>
<li>Use include_values=False when only topology matters</li>
<li>Specify focused period lists for faster value comparison</li>
</ul>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.TemplateRegistry.get" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">template_id</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Retrieve a template bundle by identifier.</p>
<p>Loads and validates the stored template bundle from disk, including
checksum verification to ensure data integrity.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Template identifier (e.g., "lbo.standard_v1")</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fin_statement_model.templates.models.TemplateBundle">TemplateBundle</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Validated TemplateBundle instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyError">KeyError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If template_id is not found in registry</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If bundle checksum validation fails</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="OSError">OSError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If bundle file cannot be read</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>bundle = TemplateRegistry.get("lbo.standard_v1")
print(f"Template: {bundle.meta.name} v{bundle.meta.version}")
print(f"Category: {bundle.meta.category}")
print(f"Checksum: {bundle.checksum[:8]}...")</p>
<h4 id="fin_statement_model.TemplateRegistry.get--access-graph-structure">Access graph structure</h4>
<p>graph_dict = bundle.graph_dict
periods = graph_dict.get("periods", [])
nodes = graph_dict.get("nodes", {})</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.TemplateRegistry.instantiate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">instantiate</span><span class="p">(</span><span class="n">template_id</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rename_map</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Create a working graph instance from a stored template.</p>
<p>Loads the template bundle, reconstructs the graph, applies any embedded
forecast and preprocessing specifications, and optionally customizes
the result with additional periods and node renaming.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Template identifier (e.g., "lbo.standard_v1")</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>periods</code>
            </td>
            <td>
                  <code><span title="builtins.list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional periods to append to the graph. Existing periods
are preserved; duplicates are ignored</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rename_map</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span>[<span title="str">str</span>, <span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Node renaming mapping (old_name  new_name). Maintains
all calculation relationships and edge connections</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Graph (fin_statement_model.core.graph.Graph)" href="#fin_statement_model.Graph">Graph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Independent Graph instance ready for analysis and modification</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyError">KeyError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If template_id is not found or old node names don't exist</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If periods or rename_map have incorrect types</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If rename target names already exist in the graph</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h4 id="fin_statement_model.TemplateRegistry.instantiate--basic-instantiation">Basic instantiation</h4>
<p>graph = TemplateRegistry.instantiate("lbo.standard_v1")
revenue_2024 = graph.calculate("Revenue", "2024")</p>
<h4 id="fin_statement_model.TemplateRegistry.instantiate--instantiation-with-customizations">Instantiation with customizations</h4>
<p>custom_graph = TemplateRegistry.instantiate(
...     "lbo.standard_v1",
...     periods=["2029", "2030"],  # Add forecast periods
...     rename_map={  # Rename nodes
...         "Revenue": "TotalRevenue",
...         "COGS": "DirectCosts",
...     },
... )</p>
<h4 id="fin_statement_model.TemplateRegistry.instantiate--verify-customizations">Verify customizations</h4>
<p>print(custom_graph.periods)  # Includes 2029, 2030
print("TotalRevenue" in custom_graph.nodes)  # True
print("Revenue" in custom_graph.nodes)  # False</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<details class="template-processing-order" open>
  <summary>Template Processing Order</summary>
  <ol>
<li>Load template bundle and reconstruct base graph</li>
<li>Apply embedded forecast specification (if present)</li>
<li>Deep clone for independence from registry caches</li>
<li>Add additional periods (if specified)</li>
<li>Apply node renaming (if specified)</li>
<li>Apply preprocessing pipeline (if embedded)</li>
<li>Clear caches and return clean graph</li>
</ol>
</details>

<details class="note" open>
  <summary>Note</summary>
  <p>The returned graph is completely independent of the template registry
and can be modified without affecting the stored template. All
forecasting and preprocessing happens automatically based on the
template's embedded specifications.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.TemplateRegistry.list" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">list</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>List all registered template identifiers.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="list()

  
      classmethod
   (fin_statement_model.templates.registry.TemplateRegistry.list)" href="#fin_statement_model.TemplateRegistry.list">list</a>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sorted list of template IDs in the registry</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>templates = TemplateRegistry.list()
print(templates)
['lbo.standard_v1', 'real_estate_lending_v3', 'custom.model_v1']</p>
<h4 id="fin_statement_model.TemplateRegistry.list--check-if-specific-template-exists">Check if specific template exists</h4>
<p>if "lbo.standard_v1" in TemplateRegistry.list():
...     print("LBO template available")</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.TemplateRegistry.register_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">forecast</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">preprocessing</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Register a financial statement graph as a reusable template.</p>
<p>Serializes the graph and stores it in the registry with metadata,
optional forecasting configuration, and preprocessing pipeline.
Automatically calculates version numbers if not specified.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>graph</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Graph (fin_statement_model.core.graph.Graph)" href="#fin_statement_model.Graph">Graph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Graph instance to persist as a template</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Template name (e.g., "lbo.standard", "real_estate.construction")</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>version</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Explicit version string ("v1", "v2"). If None, automatically
calculates the next available version</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>meta</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional metadata fields. Standard fields (name, version, category)
are set automatically and override any duplicates in meta</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>forecast</code>
            </td>
            <td>
                  <code><span title="fin_statement_model.templates.models.ForecastSpec">ForecastSpec</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional declarative forecasting specification</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>preprocessing</code>
            </td>
            <td>
                  <code><span title="fin_statement_model.templates.models.PreprocessingSpec">PreprocessingSpec</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional data transformation pipeline</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Complete template identifier (e.g., "lbo.standard_v1")</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If name is not a non-empty string</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If template_id already exists in registry</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="OSError">OSError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If filesystem operations fail</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h4 id="fin_statement_model.TemplateRegistry.register_graph--basic-registration-with-auto-versioning">Basic registration with auto-versioning</h4>
<p>template_id = TemplateRegistry.register_graph(
...     my_graph, name="custom.model", meta={"description": "Custom financial model", "category": "custom"}
... )
print(template_id)  # "custom.model_v1"</p>
<h4 id="fin_statement_model.TemplateRegistry.register_graph--registration-with-forecasting">Registration with forecasting</h4>
<p>from fin_statement_model.templates.models import ForecastSpec
forecast_spec = ForecastSpec(
...     periods=["2027", "2028"], node_configs={"Revenue": {"method": "simple", "config": 0.1}}
... )
template_id = TemplateRegistry.register_graph(my_graph, name="forecast.model", forecast=forecast_spec)</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<details class="note" open>
  <summary>Note</summary>
  <p>The graph is deep-cloned during serialization to ensure the stored
template is independent of the original graph instance. Template
bundles include SHA-256 checksums for integrity verification.</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="fin_statement_model.YoYGrowthNode" class="doc doc-heading">
            <code>YoYGrowthNode</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code></p>


        <p>Compute year-over-year percentage growth.</p>
<p>Compare values of an input node for two periods and compute
(current_value - prior_value) / prior_value.</p>


<details class="serialization-contract" open>
  <summary>Serialization contract</summary>
  <ul>
<li><code>to_dict(self) -&gt; dict</code>: Serialize the node to a dictionary.</li>
<li><code>from_dict(cls, data: dict, context: dict[str, Node] | None = None) -&gt; YoYGrowthNode</code>:
    Classmethod to deserialize a node from a dictionary. <code>context</code> is required to resolve input nodes.</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.YoYGrowthNode.input_node">input_node</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Node providing source values.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.YoYGrowthNode.prior_period">prior_period</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the earlier period.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="fin_statement_model.YoYGrowthNode.current_period">current_period</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the later period.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>from fin_statement_model.core.nodes import FinancialStatementItemNode, YoYGrowthNode
data = {"2022": 100.0, "2023": 120.0}
base = FinancialStatementItemNode("revenue", data)
yoy = YoYGrowthNode("rev_yoy", input_node=base, prior_period="2022", current_period="2023")
d = yoy.to_dict()
yoy2 = YoYGrowthNode.from_dict(d, {"revenue": base})
round(yoy2.calculate(), 2)
0.2</p>
</blockquote>
</blockquote>
</blockquote>
</details>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.YoYGrowthNode.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">input_node</span><span class="p">,</span> <span class="n">prior_period</span><span class="p">,</span> <span class="n">current_period</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a YoYGrowthNode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for this node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Node supplying values for comparison.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prior_period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the earlier period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>current_period</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for the later period.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>input_node</code> is not a Node or periods are not strings.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.YoYGrowthNode.calculate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compute the YoY growth rate.</p>
<p>Ignore the <code>period</code> parameter; use configured periods.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Ignored.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(current - prior) / prior, or NaN if prior is zero or non-finite.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fin_statement_model.core.errors.CalculationError">CalculationError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>On errors retrieving or validating input values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.YoYGrowthNode.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Recreate a YoYGrowthNode from serialized data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Serialized node data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Node (fin_statement_model.core.nodes.base.Node)" href="#fin_statement_model.Node">Node</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing nodes for dependencies.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>YoYGrowthNode</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="YoYGrowthNode (fin_statement_model.core.nodes.stats_nodes.YoYGrowthNode)" href="#fin_statement_model.YoYGrowthNode">YoYGrowthNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reconstructed node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If required fields are missing or invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.YoYGrowthNode.get_dependencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dependencies</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get names of nodes this node depends on.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="fin_statement_model.YoYGrowthNode.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize this node to a dictionary.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[str, Any]: Serialized representation with type, name, and periods.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="fin_statement_model.get_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_config</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the effective global configuration singleton.</p>
<p>This is the primary helper for accessing configuration throughout the library.
It delegates to the <code>get()</code> method of the internal <code>_runtime_store</code> singleton.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fin_statement_model.config.models.Config">Config</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The active, validated <code>Config</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="fin_statement_model.update_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_config</span><span class="p">(</span><span class="n">updates</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Apply <code>updates</code> to the global configuration singleton.</p>
<p>This is the primary helper for modifying configuration at runtime. It performs
a deep merge of the provided dictionary into the current runtime overrides.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>updates</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of configuration values to merge.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>